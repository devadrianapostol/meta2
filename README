
  Meta-II
  =======


* Introduction

This is a simple implementation of "Meta-II", the compiler-compiler
designed by Val Schorre and presented in [1]. This variant generates C
instead of assembly code for the Meta II virtual machine, as in the
original version. I first tried to keep the intermediate stage and
have a Meta-II description for translating the pseudo-assembly to C,
but quickly hit the limitations of Meta-II itself (Meta-II
descriptions are free-format, the pseudo-assembler is not - it needs
positional information to distinguish between labels and operators).


* Building

To build the translator, you will need gcc(1), GNU make(3) and
bash(1).  Enter

  make bootstrap

to generate the initial "bootstrapping" compiler from the
pre-generated sources in the "bootstrap" directory. Once this has
been built, running

  make

will rebuild your working binary with whatever changes you made to the
sources ("meta2.meta2" or "meta2.h"), using the bootstrap compiler.

To force a rebuild of the compiler with itself and compare the output
of the new compiler with the source of the current one, enter

  make check


* Installation

To install the program in your system, enter

  make install

This will install the bootstrap compiler. See below for more
information about making "snapshots" to generate a reproducible
bootstrapping variant.

The default installation directories will be /usr/local/bin and
/usr/local/include. You can override the installation prefix by giving
"PREFIX=<prefix>" to the make(3) command, or edit "Makefile"
accordingly:

  make PREFIX=/home/felix install

A script named "meta2c" is also available and might be more convenient
for generating an executable directly from a parser-description.


* Reproducibility

XXX


* Usage

XXX


* History

This implementation of Meta-II was generated by a quick-and-dirty
translation of the pseudo-assembler code for the original Meta-II
implementation, which can be found at [4], together with an excellent
tutorial.

Other interesting implementations of Meta-II are available at [2] and
[3].

For questions and suggestions, write me at

  felix@call-with-current-continuation.org


Enjoy.

--

[1] http://www.ibm-1401.info/Meta-II-schorre.pdf

[2] https://github.com/impeachgod/meta

[3] https://github.com/robertfeldt/meta_compile

[4] http://www.bayfronttechnologies.com/metaii.html
